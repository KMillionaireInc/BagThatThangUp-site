<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Onboarding - BagThatThangUp</title>
    <link rel="stylesheet" href="/style/onboarding.css" />
  </head>
  <body>
    <header>
      <h1>Create Your Store</h1>
      <p>Pick your store name and launch instantly.</p>
    </header>

    <main>
      <form id="tenantForm">
        <label for="tenantName">Store name:</label>
        <input
          type="text"
          id="tenantName"
          name="tenantName"
          placeholder="ex: store1"
          required
        />
        <button type="submit">Continue</button>
      </form>
    </main>

    <footer>
      <p>© 2025 BagThatThangUp</p>
    </footer>

    <script>
      // Listen for form submission
      document.getElementById("tenantForm").addEventListener("submit", (e) => {
        e.preventDefault();

        const input = document.getElementById("tenantName");
        const tenant = input.value.trim().toLowerCase();

        // Validate: letters, numbers, hyphens only
        if (!tenant || !/^[a-z0-9-]+$/.test(tenant)) {
          alert("Please use only lowercase letters, numbers, or hyphens.");
          return;
        }

        // Redirect user to success page with query string
        window.location.href = `/success.html?tenant=${tenant}`;
      });
    </script>
  </body>
</html>
