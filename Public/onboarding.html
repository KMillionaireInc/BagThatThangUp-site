<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Onboarding - BagThatThangUp</title>
    <link rel="stylesheet" href="/style/onboarding.css" />
  </head>
  <body>
    <h1>Create Your Store</h1>
    <form id="tenantForm">
      <label for="tenantName">Choose a store name:</label>
      <input type="text" id="tenantName" placeholder="ex: store1" required />
      <button type="submit">Create My Store</button>
    </form>

    <script>
      // Listen for form submit
      document
        .getElementById("tenantForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const tenantInput = document.getElementById("tenantName");
          const tenant = tenantInput.value.trim().toLowerCase();

          // Check for valid slug (letters, numbers, hyphens only)
          const valid = /^[a-z0-9-]+$/.test(tenant);
          if (!tenant || !valid) {
            alert("Please use only letters, numbers, or hyphens.");
            return;
          }

          // Redirect to success page, passing tenant name in query
          window.location.href = `/success.html?tenant=${tenant}`;
        });
    </script>
  </body>
</html>
