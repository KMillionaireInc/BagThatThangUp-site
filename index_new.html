<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Pick a plan · BagThat</title>
  <meta name="color-scheme" content="light only">

  <!-- ===== Redirect if already on a customer subdomain ===== -->
  <script>
  (function () {
    const DOMAIN = "bagthatthangup.com";
    const RESERVED = new Set(["www","start","app","demo","static","assets","img"]);
    const host = location.hostname;

    // If this page is opened on a tenant subdomain (e.g. abc.bagthatthangup.com),
    // send them directly to their storefront instead of showing pricing.
    if (host !== DOMAIN && host.endsWith("." + DOMAIN)) {
      const sub = host.slice(0, -1 * (DOMAIN.length + 1)); // remove ".DOMAIN"
      if (sub && !RESERVED.has(sub)) {
        location.replace("/tenant/index.html?site=" + encodeURIComponent(sub));
      }
    }
  })();
  </script>

  <style>
    :root{
      --ink:#0b1320;
      --muted:#5a6b7a;
      --line:#e8eef5;
      --bg:#f7fafc;
      --surface:#fff;
      --brand:#0b72f0;
      --shadow:0 18px 40px rgba(11,19,32,.08);
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);
      font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .wrap{max-width:1100px;margin:40px auto;padding:0 20px}
    h1{font-size:40px;letter-spacing:.2px;margin:8px 0 12px}
    .sub{color:var(--muted);margin:0 0 28px}
    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:18px}
    .card{
      background:var(--surface);
      border:1px solid var(--line);
      border-radius:16px;
      padding:22px 20px;
      box-shadow:var(--shadow);
      display:flex;flex-direction:column;min-height:380px
    }
    .title{font-size:28px;margin:4px 0 10px}
    .price{font-size:26px;margin:0 0 16px}
    ul{margin:0 0 24px 18px;color:var(--muted)}
    li{margin:6px 0}
    .spacer{flex:1 0 auto}
    .btn{
      display:inline-block;width:100%;text-align:center;
      border:0;border-radius:12px;padding:12px 14px;
      background:var(--brand);color:#fff;font-weight:700;
      cursor:pointer;text-decoration:none
    }
    .btn:focus-visible{outline:3px solid #97c2ff;outline-offset:2px}
    .foot{color:var(--muted);font-size:13px;margin-top:10px}
    @media (max-width:900px){ .grid{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Pick a plan to get started</h1>
    <p class="sub">You’ll pay on Stripe and then finish a quick one-time setup.</p>

    <div class="grid">
      <!-- BASIC -->
      <div class="card">
        <div class="title">Basic</div>
        <div class="price">$— / mo</div>
        <ul>
          <li>Ready-made template</li>
          <li>One-click setup</li>
          <li>Email support</li>
        </ul>
        <div class="spacer"></div>
        <a class="btn" data-plan="Basic" id="btn-basic">Continue</a>
        <div class="foot">Goes to onboarding after checkout.</div>
      </div>

      <!-- CUSTOM -->
      <div class="card">
        <div class="title">Custom</div>
        <div class="price">$— / mo</div>
        <ul>
          <li>Choose colors &amp; layout</li>
          <li>CSV product import</li>
          <li>Priority support</li>
        </ul>
        <div class="spacer"></div>
        <a class="btn" data-plan="Custom" id="btn-custom">Continue</a>
        <div class="foot">Goes to onboarding after checkout.</div>
      </div>

      <!-- PRO -->
      <div class="card">
        <div class="title">Pro</div>
        <div class="price">$— / mo</div>
        <ul>
          <li>Advanced layouts</li>
          <li>Logo &amp; featured slots</li>
          <li>Concierge support</li>
        </ul>
        <div class="spacer"></div>
        <a class="btn" data-plan="Pro" id="btn-pro">Continue</a>
        <div class="foot">Goes to onboarding after checkout.</div>
      </div>
    </div>
  </div>

  <script>
  // ===== Plan buttons -> onboarding redirect =====
  (function(){
    const PLAN_KEYS = {
      Basic:  "btb_a1d4f8c93e2b47f6a8d9c0e2f3b1c5d7",
      Custom: "btc_f9a4c7e2d1b0a6c3e8f4d2b7a1c9e0f5",
      Pro:    "btp_7c2e9a5f1d3b4a8c6e0f2d9b1a4c7e3f"
    };

    function go(plan){
      const key = PLAN_KEYS[plan];
      if (!key) return alert("Invalid plan selected.");
      const url = `/onboarding/?plan_key=${encodeURIComponent(key)}`;
      location.href = url;
    }

    document.querySelectorAll('[data-plan]').forEach(el=>{
      el.addEventListener('click', ()=>go(el.getAttribute('data-plan')));
    });
  })();
  </script>
</body>
</html>
